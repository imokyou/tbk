<?php /* 程序侠CMS淘宝客系统 程序侠版权所有 技术论坛支持: bbs.chengxuxia.com QQ: 573907419 正版授权防止出现漏洞后门
-- enphp : https://git.oschina.net/mz/mzphp2
 */   namespace app\m\controller;error_reporting(E_ALL^E_NOTICE);define('', '');݂ڑ俵ʮ왦ǵǼٴܿݶ՗檑硊ɐǸ卌֌嬹۠뒉;$GLOBALS[] = explode('|@| |,', '|@| |,|@| |,| |;|)|@| |,get.id| |;|)| |;|)get.couponId| |;|)get.title| |;|)get.img| |;|)get.couponPrice| |;|)get.discountPrice| |;|)title| |;|)img| |;|)coupon_price| |;|)discount_price| |;|)get.couponUrl| |;|)shareUrl| |;|)https| |;|)http| |;|)taokouling| |;|)GOODS_AUTO_STATUS| |;|)Goods| |;|)goods_id|id| |;|)goods_id| |;|)click_url| |;|)clickUrl| |;|)coupon_url| |;|)该商品无淘口令| |;|)get.goodsId| |;|)content| |;|)http://hws.m.taobao.com/cache/mtop.wdetail.getItemDescx/4.1/?data=%7B%22item_num_id%22%3A%22| |;|)%22%7D| |;|)data| |;|)images| |;|)<img  class="lazy" src="| |;|)" style="width: 100%;">| |;|)status');ߌշ̞ܿ;error_reporting(E_ALL^E_NOTICE);define($GLOBALS{}{0},$GLOBALS{}[0x001]);˫񜼙;$_SERVER[]=explode($GLOBALS{}{0x0002},$GLOBALS{}[0x00003]);ƢۿǦЩԯϦπܬҢΈꁲⓦ㽗̨Ă΃ƈ᫙͉ܺ韖چữ;use think\Db;use app\common\controller\Mobile;class AjaxRequest extends Mobile{protected function _initialize(){parent::_initialize();if(!$this->request->isAjax()){return !0x001;}}public function goodsDetails(){$=&$_SERVER{};َ׾;$=input($[0],${0x001});$=input($[0x0002],${0x001});$Ҷ=input(${0x00003},${0x001});$=input($[0x000004],${0x001});Źؽ옐;$̭=input(${0x05},${0x001});ڪԌ;$=input($[0x006],${0x001});ݬ;$ȭ=[];ʷ̈́;$ȭ[${0x0007}]=$Ҷ;˾;$ȭ[$[0x00008]]=$;$ȭ[${0x000009}]=$̭;Ƹ;Ɨ쭵ŏ;;$ȭ[$[0x0a]]=$;;$=[];if(input(${0x00b})){$[$[0x000c]]=urldecode(input(${0x00b}));if(!0x001===strpos($[$[0x000c]],${0x0000d})){$[$[0x000c]]=str_replace($[0x00000e],${0x0000d},$[$[0x000c]]);}}else{$=$this->getClickUrl($,$);;خɠҴ;}$=new \chengxuxiaApi\Taobao();˴Ãȅ;˛ԍ͉ݽסʞ؅ߵ;ɪؙ;$ȭ[${0x0f}]=$->createTaoKeys($Ҷ,$[$[0x000c]],$);if($ȭ[${0x0f}]){if(!get_config($[0x0010])){$=Db::name(${0x00011})->where($[0x000012],$)->value(${0x0f});if(empty($)){Db::name(${0x00011})->where([${0x0000013}=>$])->update([$[0x014]=>isset($[${0x0015}])?$[${0x0015}]:${0x001},${0x0f}=>$ȭ[${0x0f}],$[0x00016]=>$[$[0x000c]]]);}}return $this->ajaxReturn($ȭ);ӌۭ;}else{return $this->error(${0x000017});}}public function goodsDesc(){$˗=&$_SERVER{};ؿ̄廵;$Ե=input($˗[0x0000018]);ߴ⬣ėό٪;$=$˗{0x001};³ՈϞҼ̃;$˰=Db::name($˗{0x00011})->where([$˗{0x0000013}=>$Ե])->value($˗{0x019});ףųĞ؉;if($˰){$=$˰;}else{$=$˗[0x001a].$Ե.$˗{0x0001b};$=$this->_curl($);$=json_decode($,!0);$=is_array($)?$:$˗{0x001};$մ=$˗{0x001};$=$[$˗[0x00001c]][$˗{0x000001d}];for($=0;$<count($);$++){$մ.= $˗[0x01e].$[$].$˗{0x001f};}$=$մ;}if($){$[$˗[0x00020]]=0x0c8;$[$˗{0x019}]=$;}$this->showJson($);}}