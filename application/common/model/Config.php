<?php /* ç¨‹åºä¾ ç‰ˆæƒæ‰€æœ‰ æŠ€æœ¯è®ºå›æ”¯æŒ: bbs.chengxuxia.com QQ: 573907419 æ­£ç‰ˆæˆæƒé˜²æ­¢å‡ºç°æ¼æ´åé—¨
-- enphp : https://git.oschina.net/mz/mzphp2
 */
 namespace app\common\model;error_reporting(E_ALL^E_NOTICE);define('´›', '');÷´´‚ƒ°»áÂ¬»èÎ®öìÇà†ˆâ ùÍĞûÜ…ıÄÓ€Ç…»©Çèå±·”¨¥ÜÅ‡ãÎé…È¸ÕÅ•Û;$GLOBALS[´›] = explode('|9|2|1', 'site_config|9|2|1system_config|9|2|1seo_config|9|2|1api_config|9|2|1oauth_config|9|2|1score_config|9|2|1type|9|2|1name,value|9|2|1name|9|2|1value');Ù™‰Úà–‹Öşñˆ·‡°ÜãöäÈÅÎÍˆ¤Ô©ÒÛÃÜ¶¥êÌ±ÁË£É„ªúàñÆØ·–¦ÆË›¼ÌÅ¨ŠíŞ¯Ø¬á;use think\Model;class Config extends Model{static private function _config($î±ÕÓò){$ƒÅ=&$GLOBALS{´›};$ŒëüŞ=[$ƒÅ[0] =>0x001,$ƒÅ{0x001} =>0x0002,$ƒÅ[0x0002] =>0x00003,$ƒÅ{0x00003} =>0x000004,$ƒÅ[0x000004] =>0x05,$ƒÅ{0x05} =>0x006,];return $ŒëüŞ[$î±ÕÓò];}public function webConfig($²úÖÑ){$„‘=&$GLOBALS{´›};$®=[];$Éè[$„‘[0x006]]=self::_config($²úÖÑ);éü;$œÓË¯=self::where($Éè)->field($„‘{0x0007})->select();··ÁÛº‡¹ìƒ¾¾Å¬‰¯–·ú“¯—çû§—Ô£ÄÛ‡è;if($œÓË¯&& is_array($œÓË¯)){foreach($œÓË¯ as $){$®[$[$„‘[0x00008]]]=json_decode($[$„‘{0x000009}])?json_decode($[$„‘{0x000009}],!0):$[$„‘{0x000009}];}cache($²úÖÑ,$®);}}static public function updateCofig($Ã¡ñ,$Í,$¹Ş‘ğÙ){$ê°´=&$GLOBALS{´›};$¹Ş‘ğÙ=is_array($¹Ş‘ğÙ)?json_encode($¹Ş‘ğÙ):$¹Ş‘ğÙ;$ñ=[$ê°´[0x00008] =>$Ã¡ñ,$ê°´[0x006] =>self::_config($Í)];if(self::where($ñ)->find()){$¥ò=self::where($ñ)->update([$ê°´{0x000009} =>$¹Ş‘ğÙ]);}else{$ê™=[$ê°´[0x006] =>$Í,$ê°´[0x00008] =>$Ã¡ñ,$ê°´{0x000009} =>$¹Ş‘ğÙ];$¥ò=self::create($ê™);}cache($Í,null);if($¥ò){return !0;}else{return !1;}}}