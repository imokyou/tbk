<?php /* 程序侠CMS淘宝客系统 程序侠版权所有 技术论坛支持: bbs.chengxuxia.com QQ: 573907419 正版授权防止出现漏洞后门 
-- enphp : https://git.oschina.net/mz/mzphp2
 */   namespace app\common\controller;error_reporting(E_ALL^E_NOTICE);define('', '');ՉҼ夠ȠנŴȡԦ㻆লǘՕֆꯙ꼏ݥ蜟ęڔĮۉԌ鼯;$GLOBALS[] = explode('|#|$|<', 'Ϋ|#|$|<|#|$|<|8|6|%|#|$|<WEB_SITE_STATUS|8|6|%Content-type: text/html; charset=utf-8|8|6|%网站正在升级中...|8|6|%WEB_SITE_REWRITE|8|6|%0|8|6|%index.php|8|6|%1|8|6|%/|8|6|%?s=|8|6|%SEO|8|6|%seo_config|8|6|%title|8|6|%index|8|6|%keyword|8|6|%description|8|6|%{WEB_SITE_NAME}|8|6|%{site_title}|8|6|%{site_keywords}|8|6|%{site_description}|8|6|%WEB_SITE_NAME|8|6|%/\\{([a-z0-9_-]+?)\\}/|8|6|% |8|6|%{|8|6|%}|8|6|%|8|6|%((\\s*\\-\\s*)+)|8|6|%((\\s*\\,\\s*)+)|8|6|%((\\s*\\|\\s*)+)|8|6|%((\\s*\\t\\s*)+)|8|6|%((\\s*_\\s*)+)|8|6|%-|8|6|%,|8|6|%||8|6|%_|8|6|% ,-|_|8|6|%page_seo|8|6|%WEB_CACHE_STATUS|8|6|%cid|8|6|%cid,goods_id,title,price,discount_price,coupon_price,intro,img,coupon_id,coupon_url,coupon_receive,coupon_surplus,coupon_total,volume,shop_type,ems,start_time,end_time|8|6|%GOODS_AUTO_STATUS|8|6|%column|8|6|%fields|8|6|%page|8|6|%sort|8|6|%default|8|6|%GOODS_SORT_TYPE|8|6|%start_time desc|8|6|%couponPrice|8|6|%ids|8|6|%pageSize|8|6|%list|8|6|%total|8|6|%sort asc|8|6|%new|8|6|%, start_time desc|8|6|%volume|8|6|%, volume desc|8|6|%price|8|6|%, discount_price desc|8|6|%quan|8|6|%, coupon_price desc|8|6|%surplus|8|6|%, coupon_surplus desc|8|6|%, |8|6|%Goods|8|6|%query|8|6|%id|8|6|%WEB_COUPON_PID|8|6|%商品ID为空|8|6|%id|goods_id|8|6|%coupon_url|8|6|%shareUrl|8|6|%优惠券ID为空|8|6|%高佣金PID为未设置|8|6|%https://uland.taobao.com/coupon/edetail?activityId=|8|6|%&pid=|8|6|%&itemId=|8|6|%&src=njrt_qytk&tj1=1&tj2=1&mt=1|8|6|%&dx=1|8|6|%GOODS_TAOBAO_APP|8|6|%&nowake=1');҇ެ˗¼Ŷͺ̗Բ᥃߃ÞכҌ̥ԙ;error_reporting(E_ALL^E_NOTICE);define($GLOBALS{}{0},$GLOBALS{}[0x001]);񢝵Փ汸ܜήɧ믹;$_GET[Ϋ]=explode($GLOBALS{}{0x0002},$GLOBALS{}[0x00003]);ۅ˭퐃խ̏ݓ֊҄軄۔ʐĀ⏓˰׈گ㏗̛˓ݺߎÍԜĂѾ֏ڤㅽ̌۟뒺ε;use think\Db;use app\common\controller\Common;class Base extends Common{protected function _initialize(){$=&$_GET{Ϋ};Ƃ;parent::_initialize();ՍڤŕЋМ˲ꪊޅԭĶȉҔ;ՕƠُ݈Ѿ޸͇͕;Ħۑ͇ǇԸܯǈƏ㎗؃Ñ;$this->_license();Ęȝ݂齽Ԡř;if(!0x001==get_config($[0])){header(${0x001});die($[0x0002]);}$Ԓ=get_config(${0x00003});if($Ԓ==$[0x000004]){if(!substr_count($this->request->url(),${0x05})){$this->request->root(${0x05});}}elseif($Ԓ==$[0x006]){if(substr_count($this->request->url(),${0x05})){$this->request->root(${0x0007});}}else{$ѼӲ=$this->request->baseFile().$[0x00008];\think\Url::root($ѼӲ);}}protected function _seo($='',$=[]){$ׂ=&$_GET{Ϋ};$=[];鼨Όٌܝäɨ;;″Ƣ֡ۄёル󆏑ş􅧇;$=get_config($ׂ{0x000009},$ׂ[0x0a]);$=[$ׂ{0x00b}=>$[$ׂ[0x000c]][$ׂ{0x00b}],$ׂ{0x0000d}=>$[$ׂ[0x000c]][$ׂ{0x0000d}],$ׂ[0x00000e]=>$[$ׂ[0x000c]][$ׂ[0x00000e]]];Ђ;if($&& isset($[$])){$=$[$];}$=array_merge($,$);$=[$ׂ{0x0f},$ׂ[0x0010],$ׂ{0x00011},$ׂ[0x000012]];ȊԄЦżՓ߀׉ۨτ؟ʖݚ̗;$=[get_config($ׂ{0x0000013}),$[$ׂ[0x000c]][$ׂ{0x00b}],$[$ׂ[0x000c]][$ׂ{0x0000d}],$[$ׂ[0x000c]][$ׂ[0x00000e]]];ǒވʻ;preg_match_all($ׂ[0x014],implode($ׂ{0x0015},array_values($)),$);߉;΁߭;if($){foreach($[0x001] as $){$[]=$ׂ[0x00016].$.$ׂ{0x000017};$[]=$[$]?strip_tags($[$]):$ׂ[0x0000018];}$=[$ׂ{0x019},$ׂ[0x001a],$ׂ{0x0001b},$ׂ[0x00001c],$ׂ{0x000001d}];$=[$ׂ[0x01e],$ׂ{0x001f},$ׂ[0x00020],$ׂ{0x0015},$ׂ{0x000021}];foreach($ as $=>$){$[$]=trim(preg_replace($,$,str_replace($,$,$)),$ׂ[0x0000022]);}}$this->assign($ׂ{0x023},$);}protected function _list($='index',$,$='new',$=0,$='',$='',$=0x064,$ʼ=0x001,$ϴ=false){$=&$_GET{Ϋ};°킗ɹ݉՘;if(!$|| !is_array($)){return !0x001;}if(get_config($[0x0024])){$=$;if(isset($[${0x00025}])){$.= $[0x01e].$[${0x00025}];}if($){$.= $[0x01e].$;}if($){$.= $[0x01e].$;}$.= $[0x01e].$.$[0x01e].$.$[0x01e].$.$[0x01e].$ʼ;$=md5($);if(!0x001===$=cache($)){$=$this->getGoodsList($,$,$,$,$,$,$,$ʼ,$ϴ);cache($,$);}}else{$=$this->getGoodsList($,$,$,$,$,$,$,$ʼ,$ϴ);׵Ѻ֔;}return $;ǂʍьѭەҒӨڵ;}private function getGoodsList($,$,$ݗ,$,$ğ,$͉,$,$ڞ,$){$=&$_GET{Ϋ};;$灸=$[0x000026];֖ͨ򺻧ꊽ;if($&& is_array($)){$=[];if(get_config(${0x0000027})){$[$[0x028]]=$;$[${0x0029}]=$灸;$[$[0x0002a]]=$ڞ;$[${0x00002b}]=$ݗ==$[0x000002c]?(get_config(${0x02d})?get_config(${0x02d}):$[0x002e]):$ݗ;$[${0x0002f}]=$;$[${0x0000d}]=$ğ;$[$[0x000030]]=$͉;$[${0x0000031}]=$;$=$;if(isset($[${0x00025}])){$.= $[0x01e].$[${0x00025}];}if($͉){$.= $[0x01e].$͉;}if($ğ){$.= $[0x01e].$ğ;}$.= $[0x01e].$ݗ.$[0x01e].$.$[0x01e].$.$[0x01e].$ڞ;$=md5($);if(!0x001===$=cache($)){$=new \chengxuxiaApi\Goods;$༆=$->getGoodsList($);if($){$[$[0x032]]=$༆[$[0x032]];$[${0x0033}]=$༆[${0x0033}];}else{$=$this->_page($༆[$[0x032]],$,$ڞ,$༆[${0x0033}]);}cache($,$);}}else{$=$[0x00034];;switch($ݗ){case ${0x000035}:$.= $[0x0000036];Ʋȭȹ˴ĩ;ά룦ߍ݋֝ӫ;Ҿُ۞ꀍ࿀񛧰ҘٍŔ;break;ǉٱǺֳҳ;;case ${0x037}:$.= $[0x0038];ҸШ;break;͙Գڮ˔;case ${0x00039}:$.= $[0x00003a];;މɺ㟥ۄ;ӏ񊴥;break;ǣ͒;ʠĹːͿ𳕻ԴظВߤ;⋻ԕ;case ${0x000003b}:$.= $[0x03c];;break;case ${0x003d}:$.= $[0x0003e];䐋䔉˴;break;̉؀Ժɓ낿ę؞˭;Ƨߒ;ڶ;default:$.= ${0x00003f}.(get_config(${0x02d})?get_config(${0x02d}):$[0x002e]);;break;Ґ܎ʧ뼻ࢷªΞĮߛݮطخ䍫;}$=Db::name($[0x0000040])->where($)->field($灸)->order($)->paginate($,!0x001,[${0x041}=>$this->request->param()]);if($){$[$[0x032]]=$;$[${0x0033}]=$=Db::name($[0x0000040])->where($)->count($[0x0042]);}}return $?$:$;;}else{return !0x001;}}protected function getClickUrl($,$,$=false){$=&$_GET{Ϋ};ǻڶɡ;$=get_config(${0x00043});꜕;if(empty($)){return $this->error($[0x000044]);}$؍=Db::name($[0x0000040])->where(${0x0000045},$)->value($[0x046]);if($؍){$ϸ[${0x0047}]=$؍;}else{if(empty($)){return $this->error($[0x00048]);}if(empty($)){return $this->error(${0x000049});}$=$[0x000004a].$.${0x04b}.$.$[0x004c].$.${0x0004d};if($){$.= $[0x00004e];}if(!get_config(${0x000004f})){$.= $[0x050];}$ϸ[${0x0047}]=$;}return $ϸ;׆퍂ܢ猎Ľə⸦弟Ʒ;Ύ«ܴԙ;}}