<?php /* ç¨‹åºä¾ CMSæ·˜å®å®¢ç³»ç»Ÿ ç¨‹åºä¾ ç‰ˆæƒæ‰€æœ‰ æŠ€æœ¯è®ºå›æ”¯æŒ: bbs.chengxuxia.com QQ: 573907419 æ­£ç‰ˆæˆæƒé˜²æ­¢å‡ºç°æ¼æ´åé—¨ 
-- enphp : https://git.oschina.net/mz/mzphp2
 */   namespace app\common\controller;error_reporting(E_ALL^E_NOTICE);define('ƒ', 'ª„');¿Í®¬Ø„ú¾˜¢Àù“â°Ö¢ÌÀ ¤¦;$_GET[ƒ] = explode('|.|=|=', 'ĞÁ÷|.|=|=àª|.|=|=|,|&|.|.|=|=data/install.lock|,|&|.<meta http-equiv=\'Refresh\' content=\'0;URL=|,|&|.?s=/install/index/index.html\'>|,|&|.var_page|,|&|.page|,|&|.path|,|&|.query|,|&|.fragment|,|&|.|,|&|.HTTP_HOST|,|&|./[\\w][\\w-]*\\.(?:com\\.cn|com|cn|net|co|org|top|shop|trade|cc|name|info|me|news|pw|la|hk|dk|xin|so|win|in|de|wang|asia|biz|mobi|ren|club|site|space|cm|online|tech|live|xyz|cn\\.com|com\\.cn|net\\.cn|org\\.cn|gov\\.cn|com\\.hk|tm|tv|tel|us|bid|ai|tw|website|host|tk|vip|link|press|vu|click|kim|tn|store|vc|ltd|re|com\\.tw)(\\/|$)/isU|,|&|./|,|&|.http://|,|&|.|,|&|./|,|&|.author-st-chengxuxia.com-base-cxxiacms|,|&|.WEB_AUTH_CODE|,|&|.Content-Type:text/html; charset=utf-8|,|&|.æ‚¨çš„ç½‘ç«™æœªè¢«æˆæƒï¼Œè¯·è”ç³»ç¨‹åºä¾ å®˜ç½‘æˆæƒï¼Œç¨‹åºä¾ å®˜ç½‘ï¼š<a href=\'http:\\/\\/bbs.chengxuxia.com/\' target=\'_blank\'>bbs.chengxuxia.com</a> &nbsp;å®¢æœQQï¼š<a href=\'http://wpa.qq.com/msgrd?v=3&uin=573907419&site=qq&menu=yes\' target=\'_blank\'>573907419</a> &nbsp;å®¢æœæ—ºæ—ºï¼š<a target=\'_blank\' href=\'http:\\/\\/www.taobao.com\\/webww\\/ww.php?ver=3&touid=moxie1314
    &siteid=cntaobao&status=1&charset=utf-8\'>moxie1314</a> <br><br> [å¤‡æ³¨:ç¨‹åºä¾ å®˜ç½‘æä¾›]|,|&|.https|,|&|.@|,|&|.&|,|&|.é¡µé¢ä¸å­˜åœ¨|,|&|.code|,|&|.msg|,|&|.data|,|&|.json');İëÕ¾°èşı÷­ªĞ²¦ÊÈÑÅÜ´õ³ÖÃôöç›ÈÂø´˜¸ä·ãùåË˜´Ûãı­©Úâ ºã„²Ë úš°§Ò–©‹ù£ñ‰ï‹½Ëî»ù™—İ¹§˜«ËêÌÇùæ÷¢¹ËÄŠï¶“ßÁĞ¬±¦Ê¥……Ì;error_reporting(E_ALL^E_NOTICE);define($_GET{ƒ}{0},$_GET{ƒ}[0x001]);ˆİê“õè’Æï®ƒØ×¾£ÉÏñÜÌ‘ÃÌÌÁ›ûÎÔßéÜ¾Õï´¿ƒ;$_SERVER[ĞÁ÷]=explode($_GET{ƒ}{0x0002},$_GET{ƒ}[0x00003]);±ıˆŠ¼¬Ó±Ù¯ô¦ü·Âù‡—Úğô™ÇäÎ‡èÊ¶›È¿¥†ëø“‹ªíº •¸Ø×²ßïÑä§™Êö¡´Á×Ï‹˜ô’„î¦™•Ê;use think\Exception;use think\Controller;use think\Response;class Common extends Controller{protected function _initialize(){$íß¤ä=&$_SERVER{ĞÁ÷};if(!is_file(ROOT_PATH.$íß¤ä[0])){$§Ú¨²=$íß¤ä{0x001}.$this->request->baseFile().$íß¤ä[0x0002];exit($§Ú¨²);}}protected function _page($Å÷ë,$§,$Ó=null,$¬×õ¯=null,$é=false,$Õ°=[]){$Ã‘£©“=&$_SERVER{ĞÁ÷};¥„àÄÉÙÑµáø·µÛãÑ“¼¸òì¶·şÙá“Ö²ü·âÁ¼“·ŸîÔèÓâ»ç€÷ óåÖ¬ä±;if(empty($Õ°)){$Õ°=[$Ã‘£©“{0x00003}=>$Ã‘£©“[0x000004],$Ã‘£©“{0x05}=>$this->request->baseUrl(),$Ã‘£©“[0x006]=>$this->request->param(),$Ã‘£©“{0x0007}=>$Ã‘£©“[0x00008],];}$ˆÁù†ø=new \think\paginator\driver\Bootstrap($Å÷ë,$§,$Ó,$¬×õ¯,$é,$Õ°);return $ˆÁù†ø;›Û³ºé¢ÒöòŞó†şèìÕ•Ò‡£ËäÅ–İ¤ŞØ¿»Œú¥¯‹ø¦şˆ†ó…ÜûÛñÎã•šóùà‹Ø;î°‚ÍñäÛğ‹íÄëêù­’£¿ûÄşŸ¢µš…ú;}protected function _license(){$²Å¦¿À=&$_SERVER{ĞÁ÷};Æ—ËÎÀİ¢Ùı©á¤ÃÖŸ¥âøªÍ«ïôê±ÂÚı‰ñÊ×‹µ²©±¸º”İıëı£ÎöÎœ;$¿’=$_SERVER[$²Å¦¿À{0x000009}];İÈ‹»Û¯ú×óü×”Ÿ¯;ïİÜ»µìÇë ğüÑ©·æ‡¶Ò†Ú¡ü©¾ éĞ®Û¦™Ë„õ‡ºãÏ§„À¤ÖéÜ½ñ“÷î²õ™ñ–ƒÃÅ;$éŞªî=[];¸‚Ñ½Âõ”­ÓÒ æâ™Õ–;µ­“äÂ‚±ãßÂğ©Î¬…ı;preg_match($²Å¦¿À[0x0a],$¿’,$éŞªî);òÌêÑ¶;if($éŞªî&& is_array($éŞªî)){$ü¥Ÿ=rtrim($éŞªî[0],$²Å¦¿À{0x00b});}else{$ÏØ=str_replace($²Å¦¿À[0x000c],$²Å¦¿À{0x0000d},$¿’);$¡—ö=explode($²Å¦¿À[0x00000e],$ÏØ);$ü¥Ÿ=$¡—ö[0];}$ü¥Ÿ=trim($ü¥Ÿ);$«=array($ü¥Ÿ,$²Å¦¿À{0x0f});ì¥”Íç†ö¶³ûµÛÙ¨‚°ÈÓè´ ªá‚›Ğì‚Ú´—¨;ÓáŞªøîš‚•Îß…Ëİ«ëúÅÂœÜ¹´ˆŞ ‡¥óé…âô¹äŠÆ³‹¦¹×…äÃ“ß‰Öüå;sort($«,SORT_STRING);$îï=strtoupper(substr(sha1(implode($«)),0x0000d,0x014));ÇáœæÄ‘ ª›çİ§˜ş”ü;if(trim(get_config($²Å¦¿À[0x0010]))!=$îï){header($²Å¦¿À{0x00011});die($²Å¦¿À[0x000012]);}}protected function _curl($§İÌ,$Û³£=null){$á=&$_SERVER{ĞÁ÷};$ª=curl_init();ÁÄ²ëß›Ê;curl_setopt($ª,CURLOPT_URL,$§İÌ);Á›Çé¹åŠ·¦˜åœÊ–£®üú¾÷òúÕìÒ„Ô¹´–;curl_setopt($ª,CURLOPT_FAILONERROR,!0x001);àÉæ¿–åœ;;íö‰·†ÁÉÇ‡ü´æ˜€îÂãõÅ¿è…ÖÎ¡¡ÅÌ;curl_setopt($ª,CURLOPT_RETURNTRANSFER,!0);›±µÎ;‘ŸÛç”Øœûğœê³áµÆ;if(strlen($§İÌ)>0x05&& strtolower(substr($§İÌ,0,0x05))==$á{0x0000013}){curl_setopt($ª,CURLOPT_SSL_VERIFYPEER,!0x001);curl_setopt($ª,CURLOPT_SSL_VERIFYHOST,!0x001);}if(is_array($Û³£)&& 0<count($Û³£)){$Ë=$á{0x0000d};$íí›³»=!0x001;foreach($Û³£ as $ğ–=>$»¨ä){if($á[0x014]!=substr($»¨ä,0,0x001)){$Ë.= "$ğ–=".urlencode($»¨ä).$á{0x0015};}else{$íí›³»=!0;}}unset($ğ–,$»¨ä);İÜéÚÍ‡Æ‚;øÕ×„òó¶¨ô…©öÙ¶æ†ŸÎ¥‚²¸Ï”©ÇŒï¼†Å”‹¹‰ÁâıÆŒŒ¾æÃ¥ìâô’å‚ÅŸ;curl_setopt($ª,CURLOPT_POST,!0);šæ¹Öíşêø¸óº›ò‚¨€ÀÄåü§ÚİÕ­°°õÊ˜°¡†¯şè‚º…;if($íí›³»){curl_setopt($ª,CURLOPT_POSTFIELDS,$Û³£);}else{curl_setopt($ª,CURLOPT_POSTFIELDS,substr($Ë,0,-0x001));}}$ÊÖ›Ä=curl_exec($ª);ùÅêÛÒ§„·ğ‰…Ï;if(curl_errno($ª)){throw new Exception(curl_error($ª),0);}else{$î«´õñ=curl_getinfo($ª,CURLINFO_HTTP_CODE);if(0x0c8!==$î«´õñ){throw new Exception($ÊÖ›Ä,$î«´õñ);}}curl_close($ª);ÍÓ•˜ëÅ¹ò;ÌåÇç«ñˆ¸›ò”í›™¦¢«Ü‰š‰¾‘;return $ÊÖ›Ä;–æÛü®Ä©¼¶¶Äî;ŞÉ­ã¿é“µçÑğËÔ‹ÚÅ©ıäöÒù¿ÀÊ²¶’¥–ÛÒú›¼Ñ¥ßÃğî˜üÉŞ§ÈÃœ¾;ÀÓ;}public function _empty(){$this->_404();´Íè‡È…Ã×;’¾Ë­ÇŠ¾ÂÍÙçªÖ–î€Ò¦·—–ŠÏ›Ê¤¹±…ûÄÃÇñ‹Ñ°ÎÓş;}protected function _404($»©=''){if($»©){$this->redirect($»©);}else{throw new \think\exception\HttpException(0x00000194,$_SERVER{ĞÁ÷}[0x00016]);exit;}}protected function ajaxReturn($Ñ™€¥À=[],$½×Â="",$ò=0x001){$²=&$_SERVER{ĞÁ÷};$·ª„=[$²{0x000017}=>$ò,$²[0x0000018]=>$½×Â,$²{0x019}=>$Ñ™€¥À];‡Ä¨Õ˜§ıÓÑı¦ëıË¬¶‰„ø—÷‡É¦Æ‚ĞËıÂÂ…ˆêÚ “Ùôä×›ÑÖæığƒˆ‰ûÓ¢ÖÕò¢Ó¶åØ¾Ñ´ßåÔËæï¾×œÌÈŸÔÑœä¦;ıãÅÂ»¬ó·ˆ›ëáı;return Response::create($·ª„,$²[0x001a]);‚ ëÑÓ‚›—Îòé´ÎùĞŠ—üşÏ†›¼ç©ºÊñ‘Í’üŸæş»ıÎ®;ĞéÄ©©—Ş‰üíİÈÔÎå”§‚àï¢¶Â¾›èüÖå°µ¶šúà;}}