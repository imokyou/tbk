<?php /* ç¨‹åºä¾ ç‰ˆæƒæ‰€æœ‰ æŠ€æœ¯è®ºå›æ”¯æŒ: bbs.chengxuxia.com QQ: 573907419 æ­£ç‰ˆæˆæƒé˜²æ­¢å‡ºç°æ¼æ´åé—¨
-- enphp : https://git.oschina.net/mz/mzphp2
 */   namespace app\common\taglib;error_reporting(E_ALL^E_NOTICE);define('™¢ò', '´');—‚áæ¦¸³×°øç¬ö¶¼Ö¾Í¯ëãá¾;$GLOBALS[™¢ò] = explode('|-|2|3', '™|-|2|3Ÿ|-|2|3|@|-|6|-|2|3where |@|-|6true|@|-|6where|@|-|6field|@|-|6sort|@|-|6sort asc|@|-|6<?php |@|-|6$__NAV__ = \\think\\Db::name(\'Nav\')->field(|@|-|6)->where("status","1")->where(|@|-|6)->order("|@|-|6")->select();|@|-|6?>{volist name="__NAV__" id="|@|-|6name|@|-|6"}|@|-|6{/volist}|@|-|6position|@|-|6\'position\',|@|-|6sort ASC|@|-|6$__BANNER__ = \\think\\Db::name("Ad")->field(|@|-|6)->where(|@|-|6)->where("end_time","gt",|@|-|6)->where("status","1")->order("|@|-|6?>|@|-|6{volist name="__BANNER__" id="|@|-|6$__LINK__ = \\think\\Db::name("Link")->field(|@|-|6?>{volist name="__LINK__" id="');Éí½ÓŠÕÖì½ı¦ğÕÖé½„àôÁ¸…€†µìê—«¨‰ô–ÇÈ¡ Ú´ËôŒ¶²—¨ÑĞ­Ñ×ã¿Âúêê…ß‚Ì©£êÊ²Åèç’ŞóÉ‘„áºÖ²è©ŠÌèÌÇÓ¸Í´ºšŞİ…©Ë“÷Şñì¨„ñŠ¿È¼¨ñÇôÛ”¼°Ì‹å‡¥Äå«îö;error_reporting(E_ALL^E_NOTICE);define($GLOBALS{™¢ò}[0],$GLOBALS{™¢ò}{0x001});íäŸ‘³€›”£ë„¨Ğ»£™ú››´–ß°ÅÍËÉ—‚ …çÀ–›À²°ãµïñ°‰ìË˜ˆ€®ç±óµü¾Í€ŞÒèŸè…àœµÄºëÑ«Şƒ´ËÎÍÔÏû½ğóş¯Áş”ç¯ıì;$_SERVER[™]=explode($GLOBALS{™¢ò}[0x0002],$GLOBALS{™¢ò}{0x00003});£ÕÕ¨‚î¬·»ú…Ë‚ÎÍòÂÌ£…Ë²;use think\template\TagLib;class Base extends Taglib{protected $tags=['nav' =>['attr' =>'field,name,sort','close' =>0x001],'banner' =>['attr' =>'field,position,name,sort','close' =>0x001],'link' =>['attr' =>'field,name,sort','close' =>0x001],];public function tagNav($ÅŸÄ‚,$É’){$Ëá´¿¥=&$_SERVER{™};$«Î—Å=empty($ÅŸÄ‚[$Ëá´¿¥[0]])?$Ëá´¿¥{0x001}:$ÅŸÄ‚[$Ëá´¿¥[0x0002]];·ÅïÏÚàŸş²;í”ë·ŸÂ«¬‰Êñ‹å¼Ì‰€‚È¦…¬Ñ;$Ã˜Ö¾=empty($ÅŸÄ‚[$Ëá´¿¥{0x00003}])?$Ëá´¿¥{0x001}:$ÅŸÄ‚[$Ëá´¿¥{0x00003}];Œéä«¬Ø¶ÚÊÁÀˆß‘à‘Ù‡–‡ÙéËñÁŠé¿¶õ©›¢;¨Üµ“óşè…ñ±Ğ­‰ÔØ°€÷¯«Éƒ•»ö’äÔÇøá»÷ËÁéüß»Åá¬Ÿ’¬˜Â®ÄŒ±ÙÈ¨ì®ı´§ßğ «²‹©“Ç¶¡™Í­«úÅîª‹ûÛå;‡ÆÎÈÎ¯×ßéº˜€Âñêã­˜ÍìÏÄ—êæí˜âû ªÊèùúÁÚ;$«=empty($ÅŸÄ‚[$Ëá´¿¥[0x000004]])?$Ëá´¿¥{0x05}:$ÅŸÄ‚[$Ëá´¿¥[0x000004]];$¬Ø=$¬Ø=$Ëá´¿¥[0x006];¬Ç¹¿ğàœŠ¯Ê¶«‘¥Õœ¢²‚ç¸ÔÛ»Üö Ö³°ƒúêÃŠÛ¥§æÕñƒ;$¬Ø.= $Ëá´¿¥{0x0007}.$Ã˜Ö¾.$Ëá´¿¥[0x00008].$«Î—Å.$Ëá´¿¥{0x000009}.$«.$Ëá´¿¥[0x0a];şÊ²ÏÊºö¸ÓÚ´ó…€Ü€ûŸÚˆÊñ­öÊÄ±ÀÔ±Œ‡‚›Ò¼“‹‘íÀ…óÁâô½‚ĞÅÌÂ;å‹¢ÍÃ÷ª€Õ¡ ¬ÕĞ°Ğ¼ôÛ;¸Ó¿ù¨ñ†;$¬Ø.= $Ëá´¿¥{0x00b}.$ÅŸÄ‚[$Ëá´¿¥[0x000c]].$Ëá´¿¥{0x0000d};$¬Ø.= $É’;±;$¬Ø.= $Ëá´¿¥[0x00000e];$this->tpl->parse($¬Ø);return $¬Ø;È™’«Ï­Ş–ú¡Š¿®Ã“î½»áÄëÕ;ñùáÊšÈÕ¼—™µÁ™‹ã¹·¹‹è‹Çİ;şÊÂÎ”;}public function tagBanner($á¿ê±,$ÉÈèêÓ){$š—=&$_SERVER{™};$Ô=empty($á¿ê±[$š—{0x00003}])?$š—{0x001}:$á¿ê±[$š—{0x00003}];åÂ‚ÕÊ Ô–ã¤ªÀ†é«¸×õ;$Á=empty($á¿ê±[$š—{0x0f}])?!0:$š—[0x0010].$á¿ê±[$š—{0x0f}];ûì¨‡Â¡òÜ‡µßÜ€±–åÖÁ¦Ü«Ò•„É—Å«ì±¨ÙÙ¯œû£ùƒØÙàÙÚ“ğÀé²çÇŞ»Üâ…ô©;$âÚ=empty($á¿ê±[$š—[0x000004]])?$š—{0x00011}:$á¿ê±[$š—[0x000004]];‰Ù±¬Ôµ†®—ßŠªÑË•„´ÜâïºÆõ;$ï§=$ï§=$š—[0x006];$ï§.= $š—[0x000012].$Ô.$š—{0x0000013}.$Á.$š—[0x014].time().$š—{0x0015}.$âÚ.$š—[0x0a];‚‹ª´·şé;µÀßÜ¶ŠÚêÌğÓĞ¡È¸ŒôÛƒŒŠÀ ßï¢ßÉ†ßşÆ¿ÜıÊ·è˜©½èË†¢ØûıÛ‰ˆœŠ©üúËİÄÒ½Ä™ı¡˜ÉÙ‚áƒÀËÏÇî¨Äì„;$ï§.= $š—[0x00016];ØŸÓëü™¾»ŞØºğ„ÚóæŞ´²®ü¡Ö;$ï§.= $š—{0x000017}.$á¿ê±[$š—[0x000c]].$š—{0x0000d};†üç¦œ¼’™ÕĞÔ´©µ;$ï§.= $ÉÈèêÓ;$ï§.= $š—[0x00000e];õ¹Ù©Ø ;$this->tpl->parse($ï§);return $ï§;}public function tagLink($Ç,$İÈ){$ßÓ˜”Œ=&$_SERVER{™};$ËÆê=empty($Ç[$ßÓ˜”Œ{0x00003}])?$ßÓ˜”Œ{0x001}:$Ç[$ßÓ˜”Œ{0x00003}];$†ïÑÀ=empty($Ç[$ßÓ˜”Œ[0x000004]])?$ßÓ˜”Œ{0x05}:$Ç[$ßÓ˜”Œ[0x000004]];œëú¸ŒÉüı«Òü•ÖİçêÅ¸çÔ¥¡õ«°ç‡õ…óğ¾ôıˆñû—;$èÌ‹ñİ=$èÌ‹ñİ=$ßÓ˜”Œ[0x006];œüœï•±ü®±È;$èÌ‹ñİ.= $ßÓ˜”Œ[0x0000018].$ËÆê.$ßÓ˜”Œ{0x0015}.$†ïÑÀ.$ßÓ˜”Œ[0x0a];öàüĞâ¾à©ÉÜ´¼º‡Ëö£;$èÌ‹ñİ.= $ßÓ˜”Œ{0x019}.$Ç[$ßÓ˜”Œ[0x000c]].$ßÓ˜”Œ{0x0000d};ßÆ’;­ÀĞ••õ¶‹¢çóªİùÎ¸”Í;«ú;$èÌ‹ñİ.= $İÈ;Ø¤äÂÀ”…»¬;$èÌ‹ñİ.= $ßÓ˜”Œ[0x00000e];·¿”;$this->tpl->parse($èÌ‹ñİ);–Å¬’£ÂÜ¸×¼şéÊ÷;’ôş—æ“ÂÄà”Æõâˆû­à¡’£â§©ÓÛ›Ò£®Ç£ÍßŠà£Ïî…ä¶úÇ¾öôŸ™‡Ãû®ì;ÕË°öÅûıÎßØöŸ­•²Ñ;return $èÌ‹ñİ;°Ë;}}