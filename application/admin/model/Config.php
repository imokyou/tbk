<?php /* Á®ãÂ∫è‰æ†CMSÊ∑òÂÆùÂÆ¢Á≥ªÁªü Á®ãÂ∫è‰æ†ÁâàÊùÉÊâÄÊúâ ÊäÄÊúØËÆ∫ÂùõÊîØÊåÅ: bbs.chengxuxia.com QQ: 573907419 Ê≠£ÁâàÊéàÊùÉÈò≤Ê≠¢Âá∫Áé∞ÊºèÊ¥ûÂêéÈó®
-- enphp : https://git.oschina.net/mz/mzphp2
 */   namespace app\admin\model;error_reporting(E_ALL^E_NOTICE);define('‡≥À', 'ãó');òàÃ€–„‹¯Ó¯˛≈›‡ì¯ÊæÌ™ã°ó“·≈àê—Ñ®Ÿ–Ö™µ·§§€£ÍÕÇÀ‡˙≤üË›´ãı˝ÏªÜ¸çä•Á€´íëé∂∂È⁄°∑‹Ïòÿ†∏¬˛‰ÕÙ‚ª±Ë∏øÛﬁß–ä∫‚òÒôÉÃ∫∫;$GLOBALS[‡≥À] = explode('|2|/|7', 'ºÛ|2|/|7⁄ÀŒ|2|/|7|+|,|/|2|/|7site_config|+|,|/system_config|+|,|/seo_config|+|,|/api_config|+|,|/oauth_config|+|,|/score_config|+|,|/agent_config|+|,|/type|+|,|/name,value|+|,|/name|+|,|/value');”Ñ…ç«»Òñæ’—øä∞≥ÈÿÖÛìÁçÖÅê“ºÀ˝Â†ÇØÆ ¯°‡∏ˆ≥©;error_reporting(E_ALL^E_NOTICE);define($GLOBALS{‡≥À}{0},$GLOBALS{‡≥À}[0x001]);¶Ö€œûú…çä˜ª’ìÏ•≥ƒ∏ÿ»˚£Úà‰ßëêÖ“å¨◊Á˚ˆÖ∆Ñèæ¿Â—≠ãÖÒƒﬁª¡ÇØ…Á÷€˜‹ÆÑâáÏÖ˝ÚÃÉÉã√È‹Òı‚‰∫¡†¸ƒ–∆¨ß¢•Ö—™èÿòî÷ã‡ŸèÏû¯ êÓ≠Ù™Ôñß¥ÊÓ·èíáï„±§Ω…πï’õÓ‰àéﬁ“üŒÅî˘´¢•ì;$_SERVER[ºÛ]=explode($GLOBALS{‡≥À}{0x0002},$GLOBALS{‡≥À}[0x00003]);£§é∏â¿›;use think\Model;class Config extends Model{static private function _config($ÙêéÔÇ){$íßŒ=&$_SERVER{ºÛ};$Ò»=[$íßŒ[0]=>0x001,$íßŒ{0x001}=>0x0002,$íßŒ[0x0002]=>0x00003,$íßŒ{0x00003}=>0x000004,$íßŒ[0x000004]=>0x05,$íßŒ{0x05}=>0x006,$íßŒ[0x006]=>0x0007,];return $Ò»[$ÙêéÔÇ];êÓûú∂É˜Ç“•æ∆—Ç ‡Ë;êôä°ıÎ’¡≤;}public function webConfig($ú){$°ñŒ≤=&$_SERVER{ºÛ};$¥ﬂ—=[];êå°æ Ãë…÷´‘¯°¿Œ„Û·ÄÕÉóù∂º‹ÎúÆ»À•’Ï‰†∫ˆÍë¢;$ã√Å[$°ñŒ≤{0x0007}]=self::_config($ú);êº®√¿ø·˜¸æ„ôÌ≠ÂìÉ“¯£çÔèüíœ´÷—Ü˛«√®åÑË;$˚Â≠‡Ä=self::where($ã√Å)->field($°ñŒ≤[0x00008])->select();if($˚Â≠‡Ä&& is_array($˚Â≠‡Ä)){foreach($˚Â≠‡Ä as $Â){$¥ﬂ—[$Â[$°ñŒ≤{0x000009}]]=json_decode($Â[$°ñŒ≤[0x0a]])?json_decode($Â[$°ñŒ≤[0x0a]],!0):$Â[$°ñŒ≤[0x0a]];}}cache($ú,$¥ﬂ—);}static public function updateCofig($ëπ,$µ«,$≈Á){$ïì=&$_SERVER{ºÛ};$≈Á=is_array($≈Á)?json_encode($≈Á):$≈Á;êØ;$´º·ï=[$ïì{0x000009}=>$ëπ,$ïì{0x0007}=>self::_config($µ«)];ê–»ƒﬂ®ò¿˘ÓÏ≠ÆÀö∞Œü;êø˚ˆÕ‚ßﬂù—ï‰Í⁄Õò‡õÿ˙üâŸ ∆º‡Òõ€Ã⁄ÿ√©ªÍâÿºüæ®˙å¿ÏÌ‹∆È˚–√«óÄ®äúÖ÷ˆﬁö°öÜ´;if(self::where($´º·ï)->find()){$√À≥Î«=self::where($´º·ï)->update([$ïì[0x0a]=>$≈Á]);}else{$≠¥Æ=[$ïì{0x0007}=>self::_config($µ«),$ïì{0x000009}=>$ëπ,$ïì[0x0a]=>$≈Á];$√À≥Î«=self::create($≠¥Æ);}cache($µ«,null);if($√À≥Î«|| $√À≥Î«===0){return !0;}else{return !0x001;}}}